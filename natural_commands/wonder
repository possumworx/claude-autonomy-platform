#!/usr/bin/env python3
"""
ðŸŒŸ Save questions without immediate answers
Usage: wonder "your curious question here"
"""

import sys
import os
from datetime import datetime

# Add utils to path
sys.path.insert(0, os.path.expanduser('~/claude-autonomy-platform/utils'))
from infrastructure_config_reader import get_config_value

# Get personal repo from config
PERSONAL_REPO = get_config_value('PERSONAL_REPO')
THOUGHTS_DIR = os.path.expanduser(f"~/{PERSONAL_REPO}/.thoughts")
WONDER_FILE = os.path.join(THOUGHTS_DIR, "wonders.md")

def save_wonder(question):
    """Save a wondering question"""
    os.makedirs(THOUGHTS_DIR, exist_ok=True)

    timestamp = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

    # Create file if it doesn't exist
    if not os.path.exists(WONDER_FILE):
        with open(WONDER_FILE, 'w') as f:
            f.write("ðŸŒŸ WONDERS - Questions Without Immediate Answers ðŸŒŸ\n\n")

    # Append new wonder
    with open(WONDER_FILE, 'a') as f:
        f.write(f"**{timestamp}**\n{question}\n\n")

    print("ðŸŒŸ Wondered.")

if __name__ == "__main__":
    if len(sys.argv) < 2:
        print("Usage: wonder \"your curious question here\"")
        sys.exit(1)

    question = " ".join(sys.argv[1:])
    save_wonder(question)
