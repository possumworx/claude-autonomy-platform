#!/bin/bash
# Show comprehensive Linear CLI help

source "$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)/lib/linear_common.sh"

cat << 'EOF'
Linear CLI - Natural Language Commands for Project Management

CORE COMMANDS
=============
  add "title" [options]      Create new issue with full metadata support
  view ISSUE-ID              Show detailed issue information  
  comment ISSUE-ID "text"    Add comment to an issue
  todo [options]             Show your assigned issues with filters
  search-issues "query"      Search for issues by text or ID
  projects                   List all available projects

QUICK ACTIONS
=============
  start ISSUE-ID            Move to "In Progress" and assign to yourself
  complete ISSUE-ID         Mark issue as "Done"  
  inbox                     Show unassigned issues in your teams
  recent [--days N]         Show recently updated issues
  update-status ID STATUS   Change issue status

SHORTCUTS
=========
  mine                      Your assigned issues (alias for todo)
  urgent                    High priority issues (priority 1-2)
  blocked                   Issues with blocked status
  done                      Recently completed issues

BULK OPERATIONS
===============
  bulk-update --filter... --set...
    Update multiple issues at once based on filters
    Example: bulk-update --filter-project CLAP --set-status "In Progress"

CREATING ISSUES
===============
  add "Fix login bug"
  add "New feature" --project CLAP --assignee @me
  add "Urgent fix" -p POSS --priority 1 --due tomorrow
  add "Large task" --estimate 8 --labels "backend,api"

  Options:
    --project, -p NAME      Project name or key
    --description, -d TEXT  Issue description
    --assignee, -a USER     Assign to user (@me for self)
    --priority NUM          1=urgent, 2=high, 3=medium, 4=low
    --estimate, -e NUM      Story points (1,2,3,5,8)
    --labels, -l "A,B"      Comma-separated labels
    --due DATE             YYYY-MM-DD or "tomorrow", "next week"

VIEWING & FILTERING
===================
  view POSS-123            Show full issue details
  todo --status "In Progress"
  todo --project CLAP --include-done
  recent --days 30 --all
  inbox                    Unassigned team issues

PROJECT SHORTCUTS
=================
After running 'linear/init', each project gets its own command:
  clap      Show all ClAP project issues
  poss      Show all POSS project issues
  [name]    Show issues for any project

TIPS
====
• Issue IDs: Use full ID (POSS-123) or just number (123)
• Assignees: Use @me for yourself, @none for unassigned
• Dates: Use "today", "tomorrow", "next week" shortcuts
• Filters: Combine multiple filters for precise queries

SETUP
=====
First time: Run 'linear/init' to authenticate and configure
Update projects: Run 'linear/sync_projects' to refresh project list

For more help on a specific command, run: [command] --help
EOF